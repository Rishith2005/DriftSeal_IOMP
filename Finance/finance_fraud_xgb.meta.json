{
  "train_csv": "T:\\DriftSeal\\Finance\\fraudTrain.csv\\fraudTrain.csv",
  "test_csv": "T:\\DriftSeal\\Finance\\fraudTest.csv\\fraudTest.csv",
  "target_col": "is_fraud",
  "feature_columns": [
    "category",
    "amt",
    "gender",
    "state",
    "zip",
    "lat",
    "long",
    "city_pop",
    "unix_time",
    "merch_lat",
    "merch_long",
    "trans_dt_year",
    "trans_dt_month",
    "trans_dt_day",
    "trans_dt_dayofweek",
    "trans_dt_hour",
    "trans_dt_minute",
    "trans_dt_second",
    "dob_year",
    "dob_month",
    "dob_day",
    "dob_dayofweek",
    "dob_hour",
    "dob_minute",
    "dob_second"
  ],
  "seed": 1337,
  "val_size": 0.2,
  "max_train_rows": 200000,
  "max_test_rows": 200000,
  "num_boost_round": 400,
  "early_stopping_rounds": 30,
  "train_rows_loaded": 200000,
  "test_rows_loaded": 200000,
  "scale_pos_weight": 120.580547112462,
  "best_iteration": 399,
  "training_time_s": 9.802589099999977,
  "val_metrics": {
    "accuracy": 0.99855,
    "precision": 0.8838526912181303,
    "recall": 0.9483282674772037,
    "f1": 0.9149560117302052,
    "confusion_matrix": [
      [
        39630,
        41
      ],
      [
        17,
        312
      ]
    ],
    "roc_auc": 0.9991157513711371,
    "avg_precision": 0.9692475021551812
  },
  "test_metrics": {
    "accuracy": 0.9981,
    "precision": 0.8937908496732027,
    "recall": 0.6345707656612529,
    "f1": 0.7421981004070556,
    "confusion_matrix": [
      [
        199073,
        65
      ],
      [
        315,
        547
      ]
    ],
    "roc_auc": 0.9896354039972607,
    "avg_precision": 0.7847630083458685
  },
  "baseline_metrics": {
    "all_negative": {
      "accuracy": 0.99569,
      "precision": 0.0,
      "recall": 0.0,
      "f1": 0.0,
      "confusion_matrix": [
        [
          199138,
          0
        ],
        [
          862,
          0
        ]
      ],
      "roc_auc": 0.5,
      "avg_precision": 0.00431
    }
  },
  "threshold_tuning": {
    "best_f1": {
      "threshold": 0.74,
      "precision": 0.9739413680781759,
      "recall": 0.9088145896656535,
      "f1": 0.940251572327044
    },
    "best_recall_at_precision_0.90": {
      "threshold": 0.5700000000000001,
      "precision": 0.9011627906976745,
      "recall": 0.9422492401215805,
      "f1": 0.9212481426448736
    },
    "best_precision_at_recall_0.80": {
      "threshold": 0.9400000000000001,
      "precision": 1.0,
      "recall": 0.8419452887537994,
      "f1": 0.9141914191419142
    },
    "grid": [
      {
        "threshold": 0.01,
        "precision": 0.18543799772468714,
        "recall": 0.9908814589665653,
        "f1": 0.3124101581217058
      },
      {
        "threshold": 0.02,
        "precision": 0.26320064987814784,
        "recall": 0.9848024316109423,
        "f1": 0.4153846153846154
      },
      {
        "threshold": 0.03,
        "precision": 0.31948565776458954,
        "recall": 0.9817629179331308,
        "f1": 0.48208955223880595
      },
      {
        "threshold": 0.04,
        "precision": 0.3638418079096045,
        "recall": 0.9787234042553191,
        "f1": 0.5304777594728172
      },
      {
        "threshold": 0.05,
        "precision": 0.3980222496909765,
        "recall": 0.9787234042553191,
        "f1": 0.5659050966608085
      },
      {
        "threshold": 0.060000000000000005,
        "precision": 0.43221476510067114,
        "recall": 0.9787234042553191,
        "f1": 0.5996275605214153
      },
      {
        "threshold": 0.06999999999999999,
        "precision": 0.4638728323699422,
        "recall": 0.9756838905775076,
        "f1": 0.6287952987267384
      },
      {
        "threshold": 0.08,
        "precision": 0.49233128834355827,
        "recall": 0.9756838905775076,
        "f1": 0.654434250764526
      },
      {
        "threshold": 0.09,
        "precision": 0.5071090047393365,
        "recall": 0.9756838905775076,
        "f1": 0.6673596673596673
      },
      {
        "threshold": 0.09999999999999999,
        "precision": 0.5378151260504201,
        "recall": 0.9726443768996961,
        "f1": 0.6926406926406926
      },
      {
        "threshold": 0.11,
        "precision": 0.5526770293609672,
        "recall": 0.9726443768996961,
        "f1": 0.7048458149779736
      },
      {
        "threshold": 0.12,
        "precision": 0.5724508050089445,
        "recall": 0.9726443768996961,
        "f1": 0.7207207207207207
      },
      {
        "threshold": 0.13,
        "precision": 0.5907407407407408,
        "recall": 0.9696048632218845,
        "f1": 0.7341772151898734
      },
      {
        "threshold": 0.14,
        "precision": 0.6091954022988506,
        "recall": 0.9665653495440729,
        "f1": 0.7473560517038778
      },
      {
        "threshold": 0.15000000000000002,
        "precision": 0.6247544204322201,
        "recall": 0.9665653495440729,
        "f1": 0.7589498806682577
      },
      {
        "threshold": 0.16,
        "precision": 0.6398390342052314,
        "recall": 0.9665653495440729,
        "f1": 0.7699757869249395
      },
      {
        "threshold": 0.17,
        "precision": 0.6597510373443983,
        "recall": 0.9665653495440729,
        "f1": 0.7842170160295932
      },
      {
        "threshold": 0.18000000000000002,
        "precision": 0.673728813559322,
        "recall": 0.9665653495440729,
        "f1": 0.7940074906367042
      },
      {
        "threshold": 0.19,
        "precision": 0.6838709677419355,
        "recall": 0.9665653495440729,
        "f1": 0.801007556675063
      },
      {
        "threshold": 0.2,
        "precision": 0.6921397379912664,
        "recall": 0.9635258358662614,
        "f1": 0.8055908513341804
      },
      {
        "threshold": 0.21000000000000002,
        "precision": 0.70917225950783,
        "recall": 0.9635258358662614,
        "f1": 0.8170103092783505
      },
      {
        "threshold": 0.22,
        "precision": 0.7188208616780045,
        "recall": 0.9635258358662614,
        "f1": 0.8233766233766234
      },
      {
        "threshold": 0.23,
        "precision": 0.7308584686774942,
        "recall": 0.9574468085106383,
        "f1": 0.8289473684210527
      },
      {
        "threshold": 0.24000000000000002,
        "precision": 0.7370892018779343,
        "recall": 0.9544072948328267,
        "f1": 0.8317880794701987
      },
      {
        "threshold": 0.25,
        "precision": 0.7423167848699763,
        "recall": 0.9544072948328267,
        "f1": 0.8351063829787234
      },
      {
        "threshold": 0.26,
        "precision": 0.7494033412887828,
        "recall": 0.9544072948328267,
        "f1": 0.839572192513369
      },
      {
        "threshold": 0.27,
        "precision": 0.7602905569007264,
        "recall": 0.9544072948328267,
        "f1": 0.8463611859838275
      },
      {
        "threshold": 0.28,
        "precision": 0.7733990147783252,
        "recall": 0.9544072948328267,
        "f1": 0.854421768707483
      },
      {
        "threshold": 0.29000000000000004,
        "precision": 0.7733990147783252,
        "recall": 0.9544072948328267,
        "f1": 0.854421768707483
      },
      {
        "threshold": 0.3,
        "precision": 0.785,
        "recall": 0.9544072948328267,
        "f1": 0.8614540466392319
      },
      {
        "threshold": 0.31,
        "precision": 0.7909319899244333,
        "recall": 0.9544072948328267,
        "f1": 0.8650137741046832
      },
      {
        "threshold": 0.32,
        "precision": 0.7949367088607595,
        "recall": 0.9544072948328267,
        "f1": 0.8674033149171271
      },
      {
        "threshold": 0.33,
        "precision": 0.7989821882951654,
        "recall": 0.9544072948328267,
        "f1": 0.8698060941828255
      },
      {
        "threshold": 0.34,
        "precision": 0.7989821882951654,
        "recall": 0.9544072948328267,
        "f1": 0.8698060941828255
      },
      {
        "threshold": 0.35000000000000003,
        "precision": 0.8010204081632653,
        "recall": 0.9544072948328267,
        "f1": 0.871012482662968
      },
      {
        "threshold": 0.36000000000000004,
        "precision": 0.80306905370844,
        "recall": 0.9544072948328267,
        "f1": 0.8722222222222222
      },
      {
        "threshold": 0.37,
        "precision": 0.8134715025906736,
        "recall": 0.9544072948328267,
        "f1": 0.8783216783216783
      },
      {
        "threshold": 0.38,
        "precision": 0.8219895287958116,
        "recall": 0.9544072948328267,
        "f1": 0.8832630098452883
      },
      {
        "threshold": 0.39,
        "precision": 0.8263157894736842,
        "recall": 0.9544072948328267,
        "f1": 0.8857545839210155
      },
      {
        "threshold": 0.4,
        "precision": 0.8373333333333334,
        "recall": 0.9544072948328267,
        "f1": 0.8920454545454546
      },
      {
        "threshold": 0.41000000000000003,
        "precision": 0.8418230563002681,
        "recall": 0.9544072948328267,
        "f1": 0.8945868945868946
      },
      {
        "threshold": 0.42000000000000004,
        "precision": 0.8509485094850948,
        "recall": 0.9544072948328267,
        "f1": 0.8997134670487106
      },
      {
        "threshold": 0.43,
        "precision": 0.8598901098901099,
        "recall": 0.9513677811550152,
        "f1": 0.9033189033189033
      },
      {
        "threshold": 0.44,
        "precision": 0.8646408839779005,
        "recall": 0.9513677811550152,
        "f1": 0.9059334298118669
      },
      {
        "threshold": 0.45,
        "precision": 0.8666666666666667,
        "recall": 0.9483282674772037,
        "f1": 0.9056603773584906
      },
      {
        "threshold": 0.46,
        "precision": 0.8739495798319328,
        "recall": 0.9483282674772037,
        "f1": 0.9096209912536443
      },
      {
        "threshold": 0.47000000000000003,
        "precision": 0.8739495798319328,
        "recall": 0.9483282674772037,
        "f1": 0.9096209912536443
      },
      {
        "threshold": 0.48000000000000004,
        "precision": 0.8739495798319328,
        "recall": 0.9483282674772037,
        "f1": 0.9096209912536443
      },
      {
        "threshold": 0.49,
        "precision": 0.8813559322033898,
        "recall": 0.9483282674772037,
        "f1": 0.9136163982430454
      },
      {
        "threshold": 0.5,
        "precision": 0.8838526912181303,
        "recall": 0.9483282674772037,
        "f1": 0.9149560117302052
      },
      {
        "threshold": 0.51,
        "precision": 0.8863636363636364,
        "recall": 0.9483282674772037,
        "f1": 0.9162995594713657
      },
      {
        "threshold": 0.52,
        "precision": 0.8888888888888888,
        "recall": 0.9483282674772037,
        "f1": 0.9176470588235294
      },
      {
        "threshold": 0.53,
        "precision": 0.896551724137931,
        "recall": 0.9483282674772037,
        "f1": 0.9217134416543574
      },
      {
        "threshold": 0.54,
        "precision": 0.896551724137931,
        "recall": 0.9483282674772037,
        "f1": 0.9217134416543574
      },
      {
        "threshold": 0.55,
        "precision": 0.8962536023054755,
        "recall": 0.9452887537993921,
        "f1": 0.9201183431952663
      },
      {
        "threshold": 0.56,
        "precision": 0.8962536023054755,
        "recall": 0.9452887537993921,
        "f1": 0.9201183431952663
      },
      {
        "threshold": 0.5700000000000001,
        "precision": 0.9011627906976745,
        "recall": 0.9422492401215805,
        "f1": 0.9212481426448736
      },
      {
        "threshold": 0.5800000000000001,
        "precision": 0.9064327485380117,
        "recall": 0.9422492401215805,
        "f1": 0.9239940387481371
      },
      {
        "threshold": 0.59,
        "precision": 0.9085545722713865,
        "recall": 0.9361702127659575,
        "f1": 0.9221556886227545
      },
      {
        "threshold": 0.6,
        "precision": 0.9085545722713865,
        "recall": 0.9361702127659575,
        "f1": 0.9221556886227545
      },
      {
        "threshold": 0.61,
        "precision": 0.9134328358208955,
        "recall": 0.9300911854103343,
        "f1": 0.9216867469879518
      },
      {
        "threshold": 0.62,
        "precision": 0.9159159159159159,
        "recall": 0.9270516717325228,
        "f1": 0.9214501510574018
      },
      {
        "threshold": 0.63,
        "precision": 0.9237804878048781,
        "recall": 0.9209726443768997,
        "f1": 0.9223744292237442
      },
      {
        "threshold": 0.64,
        "precision": 0.9323076923076923,
        "recall": 0.9209726443768997,
        "f1": 0.926605504587156
      },
      {
        "threshold": 0.65,
        "precision": 0.9323076923076923,
        "recall": 0.9209726443768997,
        "f1": 0.926605504587156
      },
      {
        "threshold": 0.66,
        "precision": 0.9380804953560371,
        "recall": 0.9209726443768997,
        "f1": 0.9294478527607362
      },
      {
        "threshold": 0.67,
        "precision": 0.937888198757764,
        "recall": 0.9179331306990881,
        "f1": 0.9278033794162827
      },
      {
        "threshold": 0.68,
        "precision": 0.9465408805031447,
        "recall": 0.9148936170212766,
        "f1": 0.9304482225656878
      },
      {
        "threshold": 0.6900000000000001,
        "precision": 0.9493670886075949,
        "recall": 0.9118541033434651,
        "f1": 0.9302325581395349
      },
      {
        "threshold": 0.7000000000000001,
        "precision": 0.9554140127388535,
        "recall": 0.9118541033434651,
        "f1": 0.9331259720062208
      },
      {
        "threshold": 0.7100000000000001,
        "precision": 0.9614147909967846,
        "recall": 0.9088145896656535,
        "f1": 0.934375
      },
      {
        "threshold": 0.72,
        "precision": 0.9707792207792207,
        "recall": 0.9088145896656535,
        "f1": 0.9387755102040817
      },
      {
        "threshold": 0.73,
        "precision": 0.9707792207792207,
        "recall": 0.9088145896656535,
        "f1": 0.9387755102040817
      },
      {
        "threshold": 0.74,
        "precision": 0.9739413680781759,
        "recall": 0.9088145896656535,
        "f1": 0.940251572327044
      },
      {
        "threshold": 0.75,
        "precision": 0.9739413680781759,
        "recall": 0.9088145896656535,
        "f1": 0.940251572327044
      },
      {
        "threshold": 0.76,
        "precision": 0.9738562091503268,
        "recall": 0.9057750759878419,
        "f1": 0.9385826771653544
      },
      {
        "threshold": 0.77,
        "precision": 0.9738562091503268,
        "recall": 0.9057750759878419,
        "f1": 0.9385826771653544
      },
      {
        "threshold": 0.78,
        "precision": 0.9770491803278688,
        "recall": 0.9057750759878419,
        "f1": 0.9400630914826499
      },
      {
        "threshold": 0.79,
        "precision": 0.9769736842105263,
        "recall": 0.9027355623100304,
        "f1": 0.9383886255924171
      },
      {
        "threshold": 0.8,
        "precision": 0.9801324503311258,
        "recall": 0.8996960486322189,
        "f1": 0.9381933438985737
      },
      {
        "threshold": 0.81,
        "precision": 0.9801324503311258,
        "recall": 0.8996960486322189,
        "f1": 0.9381933438985737
      },
      {
        "threshold": 0.8200000000000001,
        "precision": 0.9800664451827242,
        "recall": 0.8966565349544073,
        "f1": 0.9365079365079365
      },
      {
        "threshold": 0.8300000000000001,
        "precision": 0.979933110367893,
        "recall": 0.8905775075987842,
        "f1": 0.9331210191082803
      },
      {
        "threshold": 0.8400000000000001,
        "precision": 0.9797979797979798,
        "recall": 0.8844984802431611,
        "f1": 0.9297124600638977
      },
      {
        "threshold": 0.85,
        "precision": 0.9796610169491525,
        "recall": 0.878419452887538,
        "f1": 0.9262820512820513
      },
      {
        "threshold": 0.86,
        "precision": 0.9796610169491525,
        "recall": 0.878419452887538,
        "f1": 0.9262820512820513
      },
      {
        "threshold": 0.87,
        "precision": 0.9795221843003413,
        "recall": 0.8723404255319149,
        "f1": 0.9228295819935691
      },
      {
        "threshold": 0.88,
        "precision": 0.9795221843003413,
        "recall": 0.8723404255319149,
        "f1": 0.9228295819935691
      },
      {
        "threshold": 0.89,
        "precision": 0.9792387543252595,
        "recall": 0.8601823708206687,
        "f1": 0.9158576051779935
      },
      {
        "threshold": 0.9,
        "precision": 0.9826388888888888,
        "recall": 0.8601823708206687,
        "f1": 0.9173419773095624
      },
      {
        "threshold": 0.91,
        "precision": 0.9825783972125436,
        "recall": 0.8571428571428571,
        "f1": 0.9155844155844156
      },
      {
        "threshold": 0.92,
        "precision": 0.9825174825174825,
        "recall": 0.8541033434650456,
        "f1": 0.9138211382113821
      },
      {
        "threshold": 0.93,
        "precision": 0.9928571428571429,
        "recall": 0.8449848024316109,
        "f1": 0.9129720853858785
      },
      {
        "threshold": 0.9400000000000001,
        "precision": 1.0,
        "recall": 0.8419452887537994,
        "f1": 0.9141914191419142
      },
      {
        "threshold": 0.9500000000000001,
        "precision": 1.0,
        "recall": 0.8419452887537994,
        "f1": 0.9141914191419142
      },
      {
        "threshold": 0.9600000000000001,
        "precision": 1.0,
        "recall": 0.8267477203647416,
        "f1": 0.9051580698835274
      },
      {
        "threshold": 0.97,
        "precision": 1.0,
        "recall": 0.8024316109422492,
        "f1": 0.8903878583473862
      },
      {
        "threshold": 0.98,
        "precision": 1.0,
        "recall": 0.7720364741641338,
        "f1": 0.8713550600343053
      },
      {
        "threshold": 0.99,
        "precision": 1.0,
        "recall": 0.723404255319149,
        "f1": 0.8395061728395061
      }
    ]
  },
  "chosen_threshold_policy": "best_recall_at_precision_0.90",
  "chosen_threshold": 0.5700000000000001,
  "test_metrics_at_chosen_threshold": {
    "accuracy": 0.998145,
    "precision": 0.9225473321858864,
    "recall": 0.6218097447795824,
    "f1": 0.7428967428967429,
    "confusion_matrix": [
      [
        199093,
        45
      ],
      [
        326,
        536
      ]
    ],
    "roc_auc": 0.9896354039972607,
    "avg_precision": 0.7847630083458685
  },
  "top_features_gain": [
    {
      "feature": "amt",
      "gain": 1092.9158935546875
    },
    {
      "feature": "trans_dt_hour",
      "gain": 522.7396240234375
    },
    {
      "feature": "category",
      "gain": 230.9300537109375
    },
    {
      "feature": "dob_year",
      "gain": 79.76806640625
    },
    {
      "feature": "gender",
      "gain": 56.44804382324219
    },
    {
      "feature": "city_pop",
      "gain": 54.9763069152832
    },
    {
      "feature": "trans_dt_dayofweek",
      "gain": 54.050411224365234
    },
    {
      "feature": "dob_dayofweek",
      "gain": 51.81283950805664
    },
    {
      "feature": "state",
      "gain": 51.5688591003418
    },
    {
      "feature": "unix_time",
      "gain": 50.66874313354492
    },
    {
      "feature": "zip",
      "gain": 49.434078216552734
    },
    {
      "feature": "merch_lat",
      "gain": 48.07196044921875
    },
    {
      "feature": "dob_month",
      "gain": 47.31201934814453
    },
    {
      "feature": "dob_day",
      "gain": 43.972381591796875
    },
    {
      "feature": "lat",
      "gain": 43.75810623168945
    },
    {
      "feature": "trans_dt_month",
      "gain": 42.58596420288086
    },
    {
      "feature": "long",
      "gain": 41.14281463623047
    },
    {
      "feature": "trans_dt_second",
      "gain": 37.20936584472656
    },
    {
      "feature": "trans_dt_day",
      "gain": 33.80985641479492
    },
    {
      "feature": "merch_long",
      "gain": 32.186424255371094
    }
  ],
  "fingerprint": {
    "model_sha256": "d003430842581c8931f2357e4f1721dc9568ccffba663690912cdec97b3eb31b",
    "canary_proba_sha256": "0b6045d7d08c53495adfee16cade4087838cfd5199aa8777ac471e6fb975fbf8",
    "feature_columns_sha256": "766b8bef8329fca308d092f535e24f142fbcf9980fefd04556fe84d7a4022a3d"
  },
  "promotion": {
    "task": "binary_classification",
    "threshold_policy": "best_recall_at_precision_0.90",
    "primary_metric": "recall_at_precision_0.90",
    "primary": 0.6218097447795824,
    "eligible": true
  }
}